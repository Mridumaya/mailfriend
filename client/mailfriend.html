<head>
    <title>mailfriend</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/chosen.css">
    <link rel="stylesheet" href="/css/jquery.gritter.css">
    <link rel="stylesheet" href="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/css/jquery.dataTables.css">
    <link rel="stylesheet" href="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/css/jquery.dataTables_themeroller.css">
    <link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1/themes/flick/jquery-ui.css">
    <link href="/css/jquery.tagit.css" rel="stylesheet" type="text/css">
    <script src="http://code.jquery.com/ui/1.10.2/jquery-ui.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/jquery.dataTables.min.js"></script>
    <script src="//ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js"></script>
    <script src="/js/tag-it.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="/js/custom.js"></script>
    <script src="/js/chosen.jquery.js"></script>
    <script src="/js/jquery.gritter.min.js"></script>
    <!-- start Mixpanel --><script type="text/javascript">(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" "); for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f)}})(document,window.mixpanel||[]); mixpanel.init("f2ee79182073835b91775c9d8ddbfa92");</script><!-- end Mixpanel -->
</head>
<body>
{{> google_api_modal}}
{{> layout }}
</body>


<template name="layout">

    <nav class="navbar navbar-default navbar-blue navbar-fixed-top" role="navigation">
        {{#if hasLogin}}
        <div class="pull-right avatar">
            <img src="{{picture}}" height="44" width="44">
            <a href="#" class="logout">Logout</a>
        </div>
        {{/if}}
        <div class="container">
            <div class="brand">Mail Friend</div>
        </div>
    </nav>
    {{#if hasLogin}}
    <div class="container wrapper">
        {{#if stepIsChooseFeature}}
        {{> feature_select}}
        {{/if}}
        {{#if stepIsWelcome}}
        {{> welcome}}
        {{/if}}
        {{#if stepIsSearchQ}}
        {{> searchQ}}
        {{/if}}
        {{#if stepIsNewCampaign}}
        {{> new_campaign}}
        {{/if}}
        {{#if stepIsConfirm}}
        {{> confirm}}
        {{/if}}
    </div>
    {{else}}
        {{#if stepIsRegister}}
        {{> register}}
        {{else}}
            {{#if stepIsStandardLogin}}
            {{> standard_login}}
            {{else}}
            {{> login}}
            {{/if}}
        {{/if}}
    {{/if}}
    <footer></footer>
</template>


<template name="google_api_modal">
    <div id="google-api-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Google api for {{domain}}</h3>
                </div>
                <div class="modal-body">
                    <div class="input-prepend">
                        <span class="add-on">Client id:</span>
                        <input class="span4 client-id" type="text" placeholder="id">
                    </div>
                    <div class="input-prepend">
                        <span class="add-on">Client secret:</span>
                        <input class="span4 client-secret" type="text" placeholder="secret">
                    </div>
                    <div class="input-prepend">
                        <span class="add-on">Redirect URIs</span>
                        <input class="span4" disabled placeholder="{{domain}}_oauth/google?close">
                    </div>
                    <div class="input-prepend">
                        <span class="add-on">Javascript Origins</span>
                        <input class="span4" disabled placeholder="{{domain}}">
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary google-api-set">set</button>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="login">
    <article>
        <div class="main">
            <div class="title">Mailfriend lets you pass the word to your friends who might actually care</div>
            <button class="btn btn-success btn-lg btn-block login add-google-oauth">Login with your Gmail account
            </button>
            <div class="row">
                <button class="btn btn-default btn-standard-login">Standard Login</button>
                <a href="#" id="register"> Register</a>
            </div>
        </div>
    </article>
</template>

<template name="register">
    <article style="margin-top: 110px;">
        <h3>Registration</h3>
        <fieldset>
            <form id="frm_register" class="form-horizontal">
                <div class="form-group">
                    <label class="col-sm-2 control-label" for="username">Username</label>
                    <div class="col-sm-7">
                        <input type="text" id="username" name="username" class="form-control" placeholder="Username"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label" for="first_name">First Name</label>
                    <div class="col-sm-7">
                        <input type="text" id="first_name" name="first_name" class="form-control" placeholder="First Name"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label" for="last_name">Last Name</label>
                    <div class="col-sm-7">
                        <input type="text" id="last_name" name="last_name"  class="form-control" placeholder="Last Name"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label" for="email">Email</label>
                    <div class="col-sm-7">
                        <input type="text" id="email" name="email" class="form-control" placeholder="Email"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label" for="password">Password</label>
                    <div class="col-sm-7">
                        <input type="password" id="password" name="password" class="form-control"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label" for="confirm_password">Confirm Password</label>
                    <div class="col-sm-7">
                        <input type="password" id="confirm_password" name="confirm_password"  class="form-control"/>
                    </div>
                </div>
                <div class="col-sm-9">
                    <button type="submit" class="btn btn-primary pull-right">Register</button>
                </div>
            </form>
        </fieldset>
    </article>
</template>

<template name="standard_login">
    <article style="margin-top: 110px;">
        <h3>Login</h3>
        <fieldset>
            <form id="frm_login" class="form-horizontal">
                <div class="form-group">
                    <label class="col-sm-2 control-label" for="username">Username</label>
                    <div class="col-sm-7">
                        <input type="text" id="username" name="username" class="form-control" placeholder="Username"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label" for="password">Password</label>
                    <div class="col-sm-7">
                        <input type="password" id="password" name="password" class="form-control"/>
                    </div>
                </div>
                <div class="col-sm-9">
                    <a href="#" class="btn btn-primary pull-right btn-try-login">Login</a>
                </div>
            </form>
        </fieldset>
    </article>
</template>

<template name="feature_select">
    <div class="row text-center" style="margin-top: 50px;">
        <h3>Welcome {{name}}</h3>
    </div>
    <div class="row feature-select">
        <div class="col-md-4">
            <button class="btn btn-default btn-lg btn-block btn-create-campaign">Create a new email campaign</button>
            <button class="btn btn-default btn-lg btn-block btn-view-campaign">View an existing campaign</button>
            <button class="btn btn-default btn-lg btn-block btn-view-messages">View incoming messages</button>
        </div>
        <div class="col-md-8">
            <div class="info">
                <h3 class="text-center">Current status:</h3>
                <ul>
                    <li> 5 people forwarded your campaign</li>
                    <li> you have 3 unread messages</li>
                    <li> etc </li>
                </ul>
            </div>
        </div>
    </div>

</template>

<template name="welcome">
    <!--<article class="welcome">-->
        <!--<h2>Welcome {{name}}</h2>-->
        <!--<h4>[Someone] would like you to spread the word about [email title]. Checkout their message</h4>-->

        <!--<div class="original-message" id="original_message">-->
            <!--{{orig_message}}-->
        <!--</div>-->
        <!--<h4>Add your own note here before sending</h4>-->
        <!--<div class="input-prepend text-left" style="margin-bottom: 10px;">-->
            <!--<span class="add-on" style="font-size: 18px;">Email Subject:</span>-->
            <!--<input style="width: 520px;" class="subject" id="subject" type="text" placeholder="Invitation" value="{{mail_title}}">-->
        <!--</div>-->
        <!--<textarea id="own_message">{{own_message}}</textarea>-->

        <!--<div class="row">-->
            <!--<label class="pull-right">Step 1 of 4</label></div>-->
        <!--<button class="btn btn-success pull-right welcome-to-searchq">Next</button>-->
    <!--</article>-->
    <!--<div class="modal fade" id="defMessageModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"-->
         <!--aria-hidden="true">-->
        <!--<div class="modal-dialog">-->
            <!--<div class="modal-content">-->
                <!--<div class="modal-header">-->
                    <!--<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>-->
                    <!--<h4 class="modal-title" id="myModalLabel">Message edit</h4>-->
                <!--</div>-->
                <!--<div class="modal-body">-->
                    <!--<p>You will need to enter password in order to edit message</p>-->

                    <!--<p class="error hide">Provided password is not valid</p>-->
                    <!--<input type="password" id="password" class="input-sm"/>-->
                    <!--<button type="button" class="btn btn-primary msg-password">Submit</button>-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->
    <!--</div>-->
</template>

<template name="compose">
    <button class="btn btn-small logout">Logout</button>
    <br><br>

    <h3>2. This is theoretically the message you are going to send along. Notice your friend already customized it when
        they sent it to you. Sweet. Edit it a little if you want.</h3>

    <p>(nobody is getting mailed, no funny business, promise!)</p>

    <div class="input-prepend">
        <span class="add-on">Email Subject:</span>
        <input class="span7 email-subject" type="text" placeholder="Invitation" value="{{subject}}"/>
    </div>
    <div class="alert alert-warning alert-body">Warning! Please write some text!</div>
    <div class="row">
        <div class="span8">
            <div class="summernote email-body">
            </div>
        </div>
        <div class="span8">
            <div class="summernote email-body2">
                Write some here<br><br>
                <a href="{{webUrl}}">Tell your friends</a>
            </div>
        </div>
        <div class="span8">
            <div class="alert alert-error alert-lock-message hidden">
                <button type="button" class="close" data-dismiss="alert">&times;</button>
                Wrong Password!
            </div>
            <input class="lock-message" type="checkbox"><span class="lock-message-label">lock the message</span>
            <input type="password" style="margin-bottom:0px;" class="lock-message-password input-small"
                   placeholder="Password">
            <button class="btn btn-small btn-primary lock-message-button">OK</button>
        </div>
    </div>
</template>

<template name="searchQ">
    <article class="searchq">
        <h4 style="text-align: center;">Great now lets choose some friends who may been interested in this topic. Try
            adding a few keywords, for example "art" or "cookies". Something that is specific to the original
            topic. </h4>

        <div class="row" style="margin-left:0px">
            <input type="search" class="search-query input-full" placeholder="Type in a search term"
                   value="{{searchQ}}"/>

            <p id="sq_error" class="error hidden">Please add at least one search term</p>

            <div class="row">
                <label class="pull-right" >Step 2 of 4</label></div>
            <div class="row">
                <button class="btn btn-primary search-button pull-right" type="button">
                    Search
                </button>
                <button class="btn btn-default pull-right searchq-to-welcome" style="margin-right: 10px;" type="button">
                    Back
                </button>
            </div>

        </div>
    </article>
</template>


<template name="email_draft">
    <div id="email_draft" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h3>Email Content Preview</h3>
        </div>
        <div class="modal-body">
            <h4>Subject:</h4>

            <p class="draft-subject"></p>
            <h4>Body:</h4>

            <p class="draft-body"></p>
            <h4>Send To:</h4>

            <p class="draft-to"></p>
        </div>
        <div class="modal-footer">
            <button class="btn draft-close" data-dismiss="modal" aria-hidden="true">Close</button>
            <button class="btn btn-primary draft-send">Send</button>
        </div>
    </div>
</template>

<template name="confirm">
    <article class="confirm">
        <h4 style="text-align: center;">Almost done, please review your selection and click send</h4>

        <div class="preview">
            <h4>Subject:</h4>

            <p class="draft-subject"></p>
            <h4>Body:</h4>

            <p class="draft-body"></p>
            <h4>Send To:</h4>

            <p class="draft-to"></p>
        </div>
        <div class="row">
            <label class="pull-right" style="margin-right: 13px; margin-top: 10px;">Step 4 of 4</label></div>
        <div class="row">
            <button class="btn btn-primary pull-right draft-send" style="margin-right: 10px;" type="button">Send
            </button>
            <button class="btn btn-default pull-right confirm-to-contact-list" style="margin-right: 10px;"
                    type="button">Back
            </button>
        </div>
        <div class="row text-center success hidden">
            <h4>Your email has been sent!</h4>
            <h4>Tell your friends about this awesome app?</h4>

            <div>
                <a id="facebook" href="#" target="_blank" class="active">
                    <img src="/images/facebook_icon.png">
                </a>
                <a id="twitter" href="#" class="active">
                    <img src="/images/twitter_icon.png">
                </a>
                <a id="google" href="#" class="active">
                    <img src="/images/google_icon.png">
                </a>
                <a id="linkedin" href="#" class="active">
                    <img src="/images/linkedin_icon.png">
                </a>
            </div>
        </div>
    </article>
</template>

<template name="notfound">
    <article>
        <div class="main2">
            <h1>404 - Page Not Found</h1>
        </div>
    </article>
</template>

<template name="error">
    <article>
        <div class="main2">
            <h1>500 - Error has happen</h1>
        </div>
    </article>
</template>